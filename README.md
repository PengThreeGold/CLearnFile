<h1 id="小白快速学C语言">小白快速学C语言</h1>

C 语言是一种通用的、面向过程式的计算机程序设计语言。由于C语言是一个较为底层的编程语言，通过学习C语言，能够快速的从操作系统层面到编程语言层面有个宏观的理解，是各大高校与计算机相关方面研究生的必备语言之一。

本教程服务于编程小白、大一新生、研究生考试等基础人群，旨在通过最简短的例子与说明让其快速读懂、书写简单的C语言，是一个Boost学习方案。如若有充裕的时间，作者诚恳的建议从零学起，扎实基础。

本教程借鉴了菜鸟教程的相关内容，菜鸟教程致力于编程技术普及化，是一个极好的互联网技术学习网站。

<h1 id="目录">目录</h1>

+ [基础语法](#基础语法)

+ [数据类型](#数据类型)

+ [变量与常量](#变量与常量)

+ [指针、数组、字符串、输入输出流、内存管理](#语言关键)

<h1 id="基础语法">基础语法</h1>

### C语言的基础知识

+ C语言程序由函数构成，每个函数可以实现一个或多个功能。

+ 一个正规程序可以有多个函数，但是有且只有一个主函数(main)。

+ 函数只有在被调用的时候才执行，主函数由系统调用执行。

+ 函数的格式必须按照规范书写。

+ C 语言程序文件的后缀为 .c 或 .h。

### 我的第一个C语言程序

```c
#include <stdio.h>

int main(int argc, char *argv[]){
    printf("Hello World!!\n");
    return 0;
}
```

C语言的本质是令牌语言：关键字、标识符、常量、字符串值、符号等令牌组成。

一条语句的拆解：`printf` `(` `"Hello World!!\n"` `)` `;`

### 标识符（变量）命名规则

一个标识符以字母` A-Z` 或 `a-z` 或下划线 `_ `开始，后跟零个或多个字母、下划线和数字（0-9），请注意变量名**不能为保留字**（关键字、基础类型等）。

```c
int a;    int _a;    int A;    int a1; // 正确的变量命名
int 1;    int 1a;    int void; int if; // 错误的变量命名
```

常用的标识符命名规则如下：

+ 变量：建议全小写或驼峰命名（第一个单词首字母小写其余单词首字母大写）
+ 函数：帕斯卡（Pascal）命名法（所有首字母大写）
+ 常量：建议定义为宏（宏字母全大写）
+ 结构体等：建议全大写或帕斯卡（Pascal）命名法

标识符命名规则不唯一，请遵循开发文档，或编写自己的程序时统一标准。

### C语言的注释

C语言有两种注释的方式：单行注释与多行注释。

```c
// 单行注释
/*
多行注释
*/
```

C语言被注释的文字将被解释为空格存在， 而C语言会自动忽略所有空格，从而达到注释的目的。

[回到目录](#目录)

<h1 id="数据类型">数据类型</h1>

数据类型是语言内精髓的存在，是经过多年的版本迭代最优的考究，因此每一门语言的数据类型都值得去仔细学习，此文章只用于知识普及与快速上手编程，在此不作详细说明。

### 基本数据类型

```c
int i = 0;       // 整型数据
char ch = 'a';   // 字符型数据/整型
float f = 3.14f; // 浮点型数据
double d = 3.14; // 双精度浮点型数据
```

浮点型数据不以`f`或`F`结尾默认以双精度浮点型形式存在。

### 枚举类型

枚举类型用于定义一组具有离散值的常量（同数据类型）。

枚举类型常与switch语句结合使用，在后续会提及。

```c
// 定义枚举类型
enum MyBool
{
    FALSE = 0, // 初始化第一个枚举项
    TURE       // 后续枚举项会自动初始化为上一个枚举量的自加（+1）值
};
// 定义枚举变量
enum MyBool _bool;
```

### void类型

顾名思义，void类型即表示什么类型都不是，通常用于函数参数、指针指向类型等。无类型不代表无用，在很多场景下用处非常大。

```c
void func(void)
{
    void *ptr = NULL; // NULL在C语言中等同于0
    return;
}
```

### 其他派生类型

C语言中还有许多派生类型：数组类型、指针类型、结构体类型。在此只说明如何定义，在后续会重点介绍用法与特性。

```c
int a[10] = {0};        // 数组类型
int *ptr = NULL;        // 指针类型
typedef struct MyStruct // 结构体类型  
{
    int i;
} MyStruct;
```

### 无符号类型

标准整型都支持定义对应的无符号类型

```c
unsigned int ui = 1; // 无符号指的是无符号，即不能表示负数，正数上限增大（0~255）
signed int si = 1;   // 有符号与之对应（-128~127）
unsigned char uch = 'a';
```

思考一个问题：C语言有符号int整型变量中 `0` 是怎么存储的，有 `-0` 吗？

### 类型转换

```c
// 隐式类型转换：自动转换（小数据到大数据）
int i = 10;       // 4字节大小
float f = 3.14;   // 4字节大小
double d = i + f; // d是8字节大小，隐式转换i

// 显式类型转换：手动强制转换（大数据到小数据），容易产生数据丢失或截断
d = 3.14159; // d是8字节大小
i = (int)d;  // i是4字节大小，显式转换d
```

类型转换中涵盖了很多知识，包括底层内存是怎么操作的？什么是强制类型转换？一定会转换成功吗？转换失败了怎么办？不同数据类型的可以转换吗？等等问题。当然在此作者不过多阐述，想要了解的同学经过系统性的学习一定要清楚上述问题的答案。

[回到目录](#目录)

<h1 id="常量与变量">变量与常量</h1>

对于C语言初学者来说，变量真是一个晦涩难懂的概念。变量其实只不过是程序可操作的存储区的名称，C语言中每个变量都有特定的类型，类型决定了变量存储的大小和布局，该范围内的值都可以存储在内存中，运算符可应用于变量上。

举个例子。现在需要定义一个int类型（4字节）的变量 `i` ，则需要在内存中开辟四字节大小的空间，如果初始化 `i` 为 `1` ，则需要把 `1` 存入这4字节的内存空间中，当然是以二进制形式存入。这两就完成了一个int类型变量的定义及初始化，而 `i` 即为这个变量的变量名。

变量的底层存放实现原理比较复杂，需要一定的操作系统或计算机组成原理知识去加以理解，在后续关于指针的教程中会再次提及，不用担心现在看不懂。

### 变量的类型

局部变量：在局部作用域定义的普通变量。

```c
void func()
{
    int local_1;     // 存在函数局部作用域内
    {
        int local_2; // 存在规定的局部作用域内（也存在函数局部作用域内）
    }
}
```

注意：作用域将会在后续中再次提及说明，在此你可以简单的理解为在`{}`运算符内即为在某个作用域内。

全局变量：定义在所有函数体外，与上述相反，不存在于任何函数或其他规定的作用域内。

```c
int global; // 不存在于任何作用域内
```

静态变量：使用static关键字修饰的变量（包含全局变量与静态变量）

```c
static int static_global;    // 静态全局变量
void func()
{
    static int static_local; // 静态局部变量
}
```

### 变量的定义与初始化

变量的初始化是在定义变量的同时为其赋予一个初始值。变量的初始化可以在定义时进行，也可以在后续的代码中进行。

type variable_list; => 数据类型 一个或多个变量的名称组成

```c
int a;              // 定义未初始化
a = 0;              // 变量初始化
int i, j, k, m = 0; // 直接初始化
int *ptr = NULL;    // 直接初始化
```

注意：

+ 全局变量与静态变量若未显式初始化会自动初始化为类型默认值
+ 局部变量不会自动初始化，未初始化时指向栈上一个随机值
+ 使用未初始化的变量极其危险，局部变量一定记得初始化

静态变量的初始化与使用的经典代码案例：

```c
// part 1
static int static_i = 0;
while (x--)
{
    static int static_i = 0;
    static_i++;
}
printf("%d\n", static_i);

// part 2
int res;
int x = 10;
while (x--)
{
    static int static_i = 0;
    res = ++static_i;
}
printf("%d\n", res);
```

### 初识左值与右值

左值与右值的定义是C语言乃至C++语言都较为灵魂的存在，千言万语不足以概括其特点与应用场景，在此旨在用最简短的语言说明。

左值：可以出现在 `=` 的左边或右边，有内存、有名字、非临时。

```c
// 变量a、变量b都是左值
int a = 0;
int b = a;
a = b;
```

右值：只可以出现在“=”的右边，有内存、无名字、临时。

```c
// 变量a是左值，而10、20是立即数，为右值
int a = 10;
a = 20;
// 10 = 20
// 20 = 10
```

立即数：一个立即数是一块数据存储作为指令本身，而不是在一个中的一部分内容存储器位置或寄存器。（操作系统知识、不理解算了）

### 常量的类型

常量是固定值，在程序执行期间不会改变。这些固定的值，又叫做字面量。

**整数常量（尾缀不区分大小写）**

|   进制类型   | 表达方式 |
| :----------: | :------: |
|    十进制    |   1234   |
| 无符号十进制 |  1234u   |
|   长十进制   |  1234l   |
|    八进制    |  02322   |
|   十六进制   |  0x4D2   |

**浮点常量（尾缀不区分大小写）**

| 表达类型 |     表达方式      |
| :------: | :---------------: |
| 小数表达 | 3.1415 或 3.1415f |
| 指数表达 |     31415e-4      |

注意：尾缀表示当前数的类型，其中u（无符号数）、l（长整型）、f（单精度浮点型）、e（10的次幂）等。

**字符常量**

把字符放在单引号内，例如 ` 'a'` 。字符常量里面存在 `\`反斜杠时可能会与后面的字符结合发生转移，组合类型可以去查询其他资料。

**字符串（字符数据常量）**

把字符放在双引号内，例如 ` "abcd"` 。

```c
char myString[] = "Hello World!";
```

系统会对字符串自动在末尾加'\0'表示字符终止。

### 常量的定义

使用 `#define` 预处理器，一般放在程序代码开头或者头文件中。

```c
#define PI 3.1415
#define ENDL '\n'
printf("%f", PI);
printf(ENDL);
```

使用const关键字进行定义，实现语言级别定义的常量。常量必须初始化且不能被修改（理论上，实际上在C语言中可以操纵指针修改）

```c
const int MY_MIN_INT = -1;
```

[回到目录](#目录)

<h1 id="运算符、判断、循环">运算符、判断、循环</h1>

<h1 id="函数、作用域、头文件">函数、作用域、头文件</h1>

<h1 id="结构体、共用体">结构体、共用体</h1>

<h1 id="语言关键">指针、数组、字符串、输入输出流、内存管理</h1>

